"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92628],{79138:function(e,n,i){i.d(n,{Bg:function(){return d},Mq:function(){return _},Oy:function(){return b},Q1:function(){return y},c3:function(){return p},kR:function(){return v},nd:function(){return m},wb:function(){return T}});var t,r,o,s=i(59499),c=i(703),u=i(43257);function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,s.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=(t={},(0,s.Z)(t,c._0,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.Ke,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.m4,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.Fq,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.v2,{quality:3,displayName:"large",name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.R7,{quality:3,name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.x0,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.Vw,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.JF,{quality:3,name:"large",downloadName:"large",label:"common:image_size_large"}),t),d=(r={},(0,s.Z)(r,c.Xk,c.v2),(0,s.Z)(r,c.Fm,c.v2),(0,s.Z)(r,c._I,c._0),(0,s.Z)(r,c.Nu,c._0),r),p={lowres:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresMpeg:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresOriginal:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},low:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},web:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},sd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdMpeg:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdOriginal:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},nonhd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},hd:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdMpeg:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdOriginal:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},"4k":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},"4K":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4k:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4KOriginal:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"}},b={LEGACY_TO_SSTK:{ultrahd4k:"4k",web:"low",lowres:"low"},SSTK_TO_LEGACY:{low:"web","4k":"ultrahd4k"},SSTK_TO_LEGACY_ELIGIBILTY:l(l({},{low:"lowres"}),{},{"4k":"ultrahd4k"})},f=(l(l({},p),{},{select:{name:"select",quality:5,label:"common:resolutions_select"}}),function(e){var n,i=e.licenseType,t=e.isOnlySDVideoAvailable;return n={},(0,s.Z)(n,"footage_".concat(i,"_4k"),c.yF),(0,s.Z)(n,"footage_".concat(i,"_hd"),t?c.SD:c.HD),(0,s.Z)(n,"footage_".concat(i,"_sd"),c.SD),(0,s.Z)(n,"footage_".concat(i,"_lowres"),c.T0),n}),v=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n}))}),{}),y=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n,isOnlySDVideoAvailable:!0}))}),{}),T=(o={},(0,s.Z)(o,c.yF,c.yF),(0,s.Z)(o,c.HD,c.HD),(0,s.Z)(o,c.SD,c.SD),(0,s.Z)(o,c.qY,c.qY),(0,s.Z)(o,c.qG,c.yF),(0,s.Z)(o,c.dn,c.HD),(0,s.Z)(o,c.rf,c.SD),(0,s.Z)(o,c.Zh,c.qY),(0,s.Z)(o,c.L0,c.HD),(0,s.Z)(o,c.Ae,c.SD),(0,s.Z)(o,c.vD,c.HD),(0,s.Z)(o,c.yE,c.qY),o),_=[c.yF,c.HD,c.SD,c.yE,c.qY,c.qG,c.dn,c.rf,c.Zh,c.L0,c.Ae,c.vD].reduce((function(e,n){return l(l({},e),{},(0,s.Z)({},n,function(e){var n,i=e.resolutionAbbr;return n={},(0,s.Z)(n,u.az,"footage_premier_".concat(i)),(0,s.Z)(n,u.lu,"footage_platform_".concat(i)),(0,s.Z)(n,u.dW,"footage_media_".concat(i)),(0,s.Z)(n,u.Iu,"footage_sm_premier_".concat(i)),(0,s.Z)(n,u.CS,"footage_sm_media_".concat(i)),(0,s.Z)(n,u.s5,"footage_select_premier_".concat(i)),(0,s.Z)(n,u.Hv,"footage_select_media_".concat(i)),(0,s.Z)(n,u.TP,"footage_comp_".concat(i)),n}({resolutionAbbr:T[n]})))}),{})},92628:function(e,n,i){i.d(n,{$L:function(){return S},Aw:function(){return N},E3:function(){return k},I9:function(){return U},Im:function(){return Z},Ip:function(){return g},XI:function(){return O},ar:function(){return L},cr:function(){return q},eL:function(){return I},hD:function(){return j},ky:function(){return P},lc:function(){return E},nj:function(){return A},q1:function(){return D},qY:function(){return _},rZ:function(){return w},vq:function(){return T}});var t=i(90116),r=i(59499),o=i(17674),s=i(93158),c=i(703),u=i(95944),a=i(8544),l=i(43257),m=i(81906),d=i(9391),p=i(25021),b=i(79138),f=i(43788);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function y(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var T=function(e){var n=e.licenseName;return l.b5.includes(n)},_=function(e){var n,i,t=e.subscription;return!!(null!==t&&void 0!==t&&t.isUnlimited||null!==t&&void 0!==t&&null!==(n=t.currentLicenses)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.isUnlimited)},g=function(e){var n,i,t,r=e.subscription,o=null===r||void 0===r||null===(n=r.currentAllotments)||void 0===n?void 0:n.length;return null===r||void 0===r||null===(i=r.currentAllotments)||void 0===i||null===(t=i[o-1])||void 0===t?void 0:t.creditsRemaining},w=function(e){var n=e.subscription,i=g({subscription:n});return null===i||i>0},O=function(e){var n=e.subscription,i=n.creditPrice,t=n.creditType,r=n.currentLicenses,s=n.redeemableFor,c=m.bW[n.type],l=((null===r||void 0===r?void 0:r.find((function(e){return e.redeemableFor===s})))||{}).creditPriceComponents,p=m.iN[c];return l&&p?Object.entries(l.contentTier).reduce((function(e,n){var i=(0,o.Z)(n,2),t=i[0],r=i[1],s=Number(t),c=p[t];return c&&r&&e.push({subscriptionType:c,price:r.amount,contentTier:s,priceType:r.amountType||m.Zm}),e}),[]):[{subscriptionType:_({subscription:n})?"".concat(c).concat((0,d.ZV)(u.q9)):c,price:i,priceType:t||m.Zm,contentTier:a.E2}]},h=function(e){var n=e.contentTier,i=e.isUnlimited,t=e.isUnlimitedSubscriptionAvailable,r=e.maxContentTier;return n===u.rD?!i:n===u.q9?t?!!i:r>=0:r>=n},Z=function(e){var n=e.subscriptions,i=e.licenseName,t=i?null===n||void 0===n?void 0:n.filter((function(e){return e.redeemableFor==="".concat(i,"_unlimited")})):n;return!(null===t||void 0===t||!t.some((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.some((function(e){return!!e.isUnlimited}))})))},S=function(e){var n,i,t,r=e.assetType,o=e.subscriptions,s=e.licenseName,c=e.contentTier,u=null===o||void 0===o||null===(n=o.filter((function(e){var n=e.license,i=e.redeemableFor,t=e.name;return n===s||i===s||t===s})))||void 0===n||null===(i=n.sort((function(e,n){return new Date(e.subscriptionExpiration).getTime()-new Date(n.subscriptionExpiration).getTime()})))||void 0===i?void 0:i.map((function(e){return(0,f.TR)({subscription:e,assetType:r})})),a=Z({subscriptions:o,licenseName:s}),l=c?function(e){var n=e.subscriptions,i=e.contentTier,t=e.isUnlimitedSubscriptionAvailable;return(null===n||void 0===n?void 0:n.filter((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.find((function(e){var n=e.maxContentTier,r=e.isUnlimited;return h({contentTier:i,isUnlimited:r,isUnlimitedSubscriptionAvailable:t,maxContentTier:n})}))})))||[]}({subscriptions:u,contentTier:c,isUnlimitedSubscriptionAvailable:a}):u,d=function(e){var n=e.subscriptions,i=e.contentTier,t=e.isUnlimitedSubscriptionAvailable;return null===n||void 0===n?void 0:n.map((function(e){var n=e.currentLicenses;if(null===n||void 0===n||!n.length)return y({creditType:m.Zm},e);var r=O({subscription:e}),o=(null===r||void 0===r?void 0:r.find((function(e){return e.contentTier>=i})))||{},s=o.price,c=o.priceType,u=i?null===n||void 0===n?void 0:n.filter((function(e){var n=e.maxContentTier,r=e.isUnlimited;return h({contentTier:i,isUnlimited:r,isUnlimitedSubscriptionAvailable:t,maxContentTier:n})})):n;return y(y({},e),{},{currentLicenses:u,creditPrice:s||e.creditPrice,creditType:c||e.creditType||m.Zm})}))}({subscriptions:l,contentTier:c});return null!==l&&void 0!==l&&l[0]&&(t=y({creditType:m.Zm},null===l||void 0===l?void 0:l[0])),(null===d||void 0===d?void 0:d.find((function(e){return w({subscription:e})})))||t},q=function(e){var n=e.subscriptions,i=void 0===n?[]:n,r=e.contentTier,o=e.assetType;return function(e){return e.sort((function(e,n){return n.creditPrice-e.creditPrice}))}(i.reduce((function(e,n){var s=n.redeemableFor||n.name,c=S({subscriptions:i,licenseName:s,contentTier:r,assetType:o});return c?function(e){var n=e.subscriptionToUse,i=e.licenseName,t=null===n||void 0===n?void 0:n.currentLicenses;return!!t&&t.length&&!(null!==t&&void 0!==t&&t.find((function(e){return e.redeemableFor===i.replace("/_unlimited/","")})))}({subscriptionToUse:c,licenseName:s})||e.find((function(e){var i=e.redeemableFor,t=e.name;return n.redeemableFor===i||n.name&&n.name===t}))?e:[].concat((0,t.Z)(e),[c]):e}),[]))},D=function(e){var n=e.assets,i=void 0===n?[]:n;return(0,p.N3)(null===i||void 0===i?void 0:i[0])?u.nX:(0,p.so)(null===i||void 0===i?void 0:i[0])?u.A7:(0,p.vV)(null===i||void 0===i?void 0:i[0])?u.ox:(0,p.Tp)(null===i||void 0===i?void 0:i[0])},N=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions;if(!t||!n)return[];switch(n){case u.nX:return{compSubscriptions:t.editorialImageCompSubscriptions,subscriptions:q({assetType:n,subscriptions:t.editorialImageSubscriptions,contentTier:i})};case u.A7:return{compSubscriptions:t.editorialVideoCompSubscriptions,subscriptions:q({assetType:n,subscriptions:t.editorialVideoSubscriptions,contentTier:i})};case u.pX:return{compSubscriptions:t.videoCompSubscriptions,subscriptions:q({assetType:n,subscriptions:t.videoSubscriptions,contentTier:i})};case u.xF:case u.j0:return{compSubscriptions:t.musicCompSubscriptions,subscriptions:q({assetType:n,subscriptions:t.musicSubscriptions,contentTier:i})};case u.k4:default:return{compSubscriptions:t.imageCompSubscriptions,subscriptions:q({assetType:n,subscriptions:t.imageSubscriptions,contentTier:i})}}},k=function(e){var n=e.assetType,i=e.subscriptions,t=N({assetType:n,subscriptions:i});return(null===t||void 0===t?void 0:t.subscriptions)||[]},j=function(e){var n,i=e.asset,t=e.subscriptions,r=D({assets:[i]}),o=null===(n=N({assetType:r,subscriptions:t}))||void 0===n?void 0:n.compSubscriptions;return t&&(null===o||void 0===o?void 0:o.some((function(e){return w({subscription:e})})))},A=function(e){var n=e.items,i=e.subscriptions,t=e.subscription;if(n&&n.length)return n.reduce((function(e,n){var r,o=n.licenseId,s=n.price,c=e.total+s,u=D({assets:[n]}),a=t||S({subscriptions:null===(r=N({assetType:u,subscriptions:i}))||void 0===r?void 0:r.subscriptions,selectedLicenseId:o,assetType:u})||{},l=(0,f.Vp)(a),m=l.totalAmount,d=l.amountRemaining,p=l.amountType;return e.amountType=p,c>d&&(e.hasInsufficientSubscriptionCredits=!0,e.hasLowDebitableBalance=!1,e.insufficientAmount=c-d),!e.hasInsufficientSubscriptionCredits&&d<=.05*m&&(e.hasLowDebitableBalance=!0),e.total+=s,e}),{hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,amountType:m.Zm});var r=i||{},o=Object.keys(r).find((function(e){return Array.isArray(r[e])&&r[e].length})),s=(0,f.bC)({subscriptions:r[o]||[]})[0]||{},c=(0,f.Vp)(s),u=c.totalAmount,a=c.amountRemaining;return{amountType:c.amountType,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:a<=.05*u,insufficientAmount:null}},P=function(e){var n=e.items,i=e.isLoading,t=e.subscription,r=e.subscriptions,o=e.userCapabilities;return i?{}:(0,f.Kc)({userCapabilities:o})?A({items:n,subscription:t,subscriptions:r}):{amountType:m.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:!(!t||0!==g({subscription:t})),insufficientAmount:null}},L=function(e){var n,i,t=e.subscriptions,r=e.asset,o=Object.values((null===r||void 0===r||null===(n=r.metadata)||void 0===n||null===(i=n.cart)||void 0===i?void 0:i.sizes)||r.sizes||{}),s=(0,p.$Q)({sizes:o});return null===t||void 0===t?void 0:t.filter((function(e){var n=e.redeemableFor,i=s?b.Q1[n]:b.kR[n];return null===o||void 0===o?void 0:o.some((function(e){var n=e.resolution,t=e.name;return b.wb[n]===i||b.wb[t]===i||i===c.T0&&b.wb[n]===c.qY}))}))},C=function(e){var n,i=e.licenses,t=e.subscriptions;return i.some((function(e){return n=S({subscriptions:t,licenseName:e,assetType:u.pX})})),n},F=function(e){var n=e.licenseType,i=e.licenseName,t=e.subscriptions;return i==="footage_".concat(n,"_sd")?C({licenses:["footage_".concat(n,"_sd"),"footage_".concat(n,"_hd")],subscriptions:t}):i==="footage_".concat(n,"_lowres")?C({licenses:["footage_".concat(n,"_lowres")],subscriptions:t}):void 0},I=function(e){var n=e.subscriptions,i=e.licenseName,t=u.pX;if([l.Mb,l.G,l.mf,l.vb,l.Dh,l.SP,l.a9,l.y2,l.v1,l.KK,l.mJ,l.Wd].some((function(e){return e===i})))return S({subscriptions:n,licenseName:i,assetType:t});if(l.Lj.some((function(e){return e===i})))return S({subscriptions:n,licenseName:i,assetType:t});if([l.f1,l.Oy,l.JC,l.TL].some((function(e){return e===i})))return S({subscriptions:n,licenseName:l.f1,assetType:t});var r=F({licenseType:l.bi,licenseName:i,subscriptions:n}),o=F({licenseType:l.Ee,licenseName:i,subscriptions:n}),s=F({licenseType:l.pH,licenseName:i,subscriptions:n}),c=F({licenseType:l.wO,licenseName:i,subscriptions:n});return r||o||s||c||void 0},E=function(e){var n=e.subscriptions,i=e.assetType;return null===n||void 0===n?void 0:n.some((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.product,t=(n=void 0===n?{}:n).status,r=n.businessUnit,o=n.name;return t===m.PP&&(i===u.tn?s.LY.includes(o):r===i)}))},U=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions,r=e.selectedLicenseId;switch(n){case u.pX:return I({licenseName:r,subscriptions:t});case u.j0:case u.xF:case u.tn:case u.k4:default:return S({subscriptions:t,licenseName:r,contentTier:i,assetType:n})}}}}]);