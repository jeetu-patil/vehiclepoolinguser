"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41671],{91995:function(e,t,i){i.d(t,{A:function(){return _}});var n=i(67294),o=i(51741),s=i(25021),r=i(92628),a=i(12439),l=i(69648),c=i(59453),u=i(59499),d=i(95944);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,u.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f=function(e){var t,i=e.assetType,n=e.clickAnalyticsLabels,o=e.hasExistingLicense,s=e.hasExistingSubscription,r=e.isFootageSelect,a=e.isLoggedInUser,l=e.isRexEditorialAsset,c=e.labels,u=s||o,p=a&&!u,f=a&&u;switch(i){case d.k4:t=function(e){var t=e.clickAnalyticsLabels,i=e.isRexEditorialAsset,n=e.isLoggedInUser,o=e.labels;return g(g({},i?{downloadButtonClickAnalyticsLabel:t.downloadButton,downloadButtonLabel:o.download}:{downloadButtonClickAnalyticsLabel:t.downloadFreeButton,downloadButtonLabel:o.downloadForFree}),{},{shouldShowDownloadButton:!n,shouldShowAddToCartButton:!1,shouldShowOpenLicenseDrawerButton:n})}({clickAnalyticsLabels:n,isLoggedInUser:a,isRexEditorialAsset:l,labels:c});break;case d.pX:t=function(e){var t=e.isFootageSelect,i=e.isLoggedInUser,n=e.isLoggedInWithoutPlan,o=e.isLoggedInWithPlan;return e.isRexEditorialAsset?{shouldShowAddToCartButton:!1,shouldShowFreeDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!0}:{shouldShowAddToCartButton:!i||n||t,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:o&&!t}}({isFootageSelect:r,isLoggedInUser:a,isLoggedInWithoutPlan:p,isLoggedInWithPlan:f,isRexEditorialAsset:l});break;case d.xF:case d.tn:default:t={shouldShowAddToCartButton:!a||p||r,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:f&&!r}}return o?{shouldShowAddToCartButton:!1,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!0}:t},_=function(e){var t,i,u=e.asset,p=e.clickAnalyticsLabels,g=void 0===p?{}:p,_=e.labels,b=void 0===_?{}:_,h=e.shouldFetchEligibility,v=void 0===h||h,w=e.assetIsLicensed,m=void 0!==w&&w,S=u.isFootageSelect,y=(0,s.Tp)(u),A=(0,s.EK)(u),O=(0,l.B)(),L=(0,c.DJ)().data,B=(0,r.lc)({subscriptions:L,assetType:y}),Z=function(e){var t=e.isLoggedInUser,i=e.shouldFetchEligibility,n=e.hasActiveSubscriptionForAssetType,o=e.assetType,s=e.isRexEditorialAsset,r=e.isFootageSelect,a=!s&&!r&&(o===d.pX||o===d.xF);return!!(t&&i&&!1===n&&a)}({isLoggedInUser:O,shouldFetchEligibility:v,hasActiveSubscriptionForAssetType:B,assetType:y,isRexEditorialAsset:A,isFootageSelect:S}),P=(0,a.IP)({assets:[u],shouldFetch:Z}).data,D=(0,n.useState)({status:"",error:void 0}),j=D[0],E=D[1],F=m||!(null===P||void 0===P||null===(t=P.licenses)||void 0===t||!t.length),T=!(null===P||void 0===P||null===(i=P.subscriptions)||void 0===i||!i.length)||B,x=void 0===O||O&&void 0===L,k=f({assetType:y,clickAnalyticsLabels:g,hasExistingLicense:F,hasExistingSubscription:T,isFootageSelect:S,isLoggedInUser:O,isRexEditorialAsset:A,labels:b}),C=k.shouldShowDownloadButton,I=k.shouldShowOpenLicenseDrawerButton,z=k.shouldShowAddToCartButton,R=k.downloadButtonClickAnalyticsLabel,N=k.downloadButtonLabel,U=(0,n.useCallback)((function(){return E({status:o.MR,error:void 0})}),[]);return{addToCartFailureHandler:(0,n.useCallback)((function(e){return E({status:o.cM,error:e})}),[]),addToCartStatus:j,addToCartSuccessHandler:U,closeAddToCartSnackbarHandler:(0,n.useCallback)((function(){return E({status:"",error:void 0})}),[]),downloadButtonClickAnalyticsLabel:R,downloadButtonLabel:N,eligibility:P,hasExistingLicense:F,shouldShowAddToCartButton:z,shouldShowButtonLoadingPlaceholder:x,shouldShowDownloadButton:C,shouldShowOpenLicenseDrawerButton:I}}},37254:function(e,t,i){i.d(t,{Cs:function(){return v},Gp:function(){return A},HS:function(){return f},Ji:function(){return _},LQ:function(){return L},MQ:function(){return b},OA:function(){return E},cs:function(){return w},d9:function(){return O},rR:function(){return h},tT:function(){return y},ur:function(){return g},vZ:function(){return S}});var n,o,s,r,a,l,c=i(59499),u=i(93158),d=i(703),p=i(95944),g="standard",f="enhanced",_=["single_image_standard_license","enhanced_1_download_365_day"],b=(d.SD,d.HD,d.yF,"P1Y"),h="P1M",v=(n={},(0,c.Z)(n,d.SD,"nonhd"),(0,c.Z)(n,d.HD,d.HD),(0,c.Z)(n,d.yF,d.eD),"pack"),w="single",m={"filter[group_id]":"video-all"},S={"filter[group_id]":"video-unit"},y={"filter[group_id]":"image_pricing"},A="coupon",O="coupon_code",L=(["allotment_credits","commitment_length","currency","download_credits","eligible_for_rebilling","license","name","price","prices","repeat_interval"].join(","),o={},(0,c.Z)(o,p.gP,y),(0,c.Z)(o,p.xF,u.zx),(0,c.Z)(o,p.pX,m),"adjustment coupon applied is invalid"),B="validation failed: user would have duplicate subscription",Z="validation failed: duplicate products selected or the customer already has a subscription of this type. activating will result in concurrent duplicate subscriptions.",P="validation failed: user already has an incompatible subscription",D="validation failed: current subscription cannot mix with team subscription",j="validation failed: a user cannot mix a team and non-team subscription.",E=(l={},(0,c.Z)(l,L,"alerts:pricing_invalid_coupon_code"),(0,c.Z)(l,"defaultAlert","alerts:image-pricing:default_alert"),(0,c.Z)(l,p.k4,(s={},(0,c.Z)(s,B,"alerts:image_pricing_duplicate_subscription"),(0,c.Z)(s,Z,"alerts:image_pricing_duplicate_subscription"),(0,c.Z)(s,P,"alerts:image_pricing_incompatible_subscription"),(0,c.Z)(s,D,"alerts:image_pricing_cannot_mix_team_subscription"),(0,c.Z)(s,j,"alerts:image_pricing_cannot_mix_team_subscription"),(0,c.Z)(s,L,"alerts:pricing_invalid_coupon_code"),(0,c.Z)(s,"defaultAlert","alerts:default_pricing_alert"),s)),(0,c.Z)(l,p.pX,(r={},(0,c.Z)(r,B,"alerts:footage_pricing_duplicate_subscription"),(0,c.Z)(r,Z,"alerts:footage_pricing_duplicate_subscription"),(0,c.Z)(r,P,"alerts:footage_pricing_incompatible_subscription"),(0,c.Z)(r,L,"alerts:pricing_invalid_coupon_code"),(0,c.Z)(r,"defaultAlert","alerts:default_pricing_alert"),r)),(0,c.Z)(l,p.xF,(a={},(0,c.Z)(a,B,"alerts:music_pricing_duplicate_subscription"),(0,c.Z)(a,Z,"alerts:music_pricing_duplicate_subscription"),(0,c.Z)(a,P,"alerts:music_pricing_incompatible_subscription"),(0,c.Z)(a,D,"alerts:music_pricing_incompatible_subscription"),(0,c.Z)(a,j,"alerts:music_pricing_incompatible_subscription"),(0,c.Z)(a,L,"alerts:pricing_invalid_coupon_code"),(0,c.Z)(a,"defaultAlert","alerts:default_pricing_alert"),a)),(0,c.Z)(l,"none",{defaultAlert:"alerts:default_pricing_alert"}),l)},28469:function(e,t,i){i.d(t,{w:function(){return n}});var n=(0,i(67294).createContext)({})},59777:function(e,t,i){i.d(t,{l:function(){return r}});var n=i(67294),o=i(28469),s=i(85893),r=function(e){var t=e.allSizesAssetEligibility,i=e.asset,r=e.children;return(0,s.jsx)(o.w.Provider,{value:(0,n.useMemo)((function(){return{allSizesAssetEligibility:t,asset:i}}),[t,i]),children:r})};r.defaultProps={allSizesAssetEligibility:{},asset:{}}},12439:function(e,t,i){i.d(t,{IP:function(){return S},jC:function(){return m}});var n=i(59499),o=i(23204),s=i.n(o),r=i(40821),a=i(357),l=i(95944),c=i(43257),u=i(37254),d=i(97708),p=i(25021),g=i(79138),f=i(8924),_=i(69089),b=i(69648);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var w=function(e){var t=e.assets,i=e.include,n=void 0===i?"subscriptions,licenses,licenses.product,subscriptions.product":i,o=e.licenseName,r=e.selectedAssetSize,a=t[0],f=(0,p._L)(a),_={};(null===t||void 0===t?void 0:t.length)>=2?_.content_ids=t.filter((function(e){return!!e.id})).join(","):_.content_id=null===a||void 0===a?void 0:a.id;var b=function(e){var t=e.assetTypeFromAsset,i=e.licenseName,n=e.selectedAssetSize;switch(t){case l.pX:return v({},(null===n||void 0===n?void 0:n.name)&&{content_size:g.Oy.SSTK_TO_LEGACY_ELIGIBILTY[n.name]||n.name});case l.j0:case l.xF:return{content_format:l.j0};default:return v(v(v(v({},(null===n||void 0===n?void 0:n.name)&&{content_size:g.nd[s()(n.name)].downloadName}),(null===n||void 0===n?void 0:n.format)&&{content_format:n.format}),i===u.HS&&{license_name:u.HS}),(i===c.sV||t===l.gP)&&{license_name:c.sV})}}({assetTypeFromAsset:f,licenseName:o,selectedAssetSize:r});return v(v({include:n,content_type:(0,d.JD)({assetType:f,assetId:null===a||void 0===a?void 0:a.id})},b),_)},m=function(e){var t=e.licenseeIdentifier,i=e.assets,n=e.licenseName,o=e.selectedAssetSize;return(0,a.Td)({urlParams:{licenseeIdentifier:t},queryParams:w({assets:i,licenseName:n,selectedAssetSize:o})}).formattedUrl},S=function(e){var t=e.assets,i=e.licenseeIdentifier,n=void 0===i?c.RU:i,o=e.licenseName,s=e.selectedAssetSize,a=e.shouldFetch,l=void 0===a||a,u=(0,b.B)();return(0,r.ZP)(l&&u?m({licenseeIdentifier:n,assets:t,licenseName:o,selectedAssetSize:s}):null,(function(e){return f.uS.get(e).then((function(e){return(0,_.O)(e.data)}))}))}}}]);